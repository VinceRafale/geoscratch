<html>
	<head>
		<title>Fog</title>
		<link rel="stylesheet" href="css/style.css" />

		<script type="text/template" id="post-template">
			<div class="post">
				<span class="post-content"><%= content %></span>
				<div class="post-datetime"><% print(created); %></div>
				<a href="#" class="deletepost">Delete?</a>
			</div>
		</script>

		<script type="text/template" id="fogview-template">
			<h3><a href="/">Home</a>
			<h1><%= name %></h1>
			<span>Radius: <%= radius %></span>
			<span>Expiry: <%= expiry %></span>
			<span>Location: (<%= location[0] %>, <%= location[1] %>)</span>
			<div id="newpost-wrapper">
				<input id="newpost" type="text" placeholder="New Post">
			</div>
			<div id="posts"></div>
		</script>

		<script type="text/template" id="fogmeta-template">
			<section>
			<h3><a href="fog/<%= _id %>" class="foglink"><%= name %></a></h3>
				<span>Radius: <%= radius %></span>
				<span>Expiry: <%= expiry %></span>
				<span>Location: (<%= location[0] %>, <%= location[1] %>)</span>
				<div>Created: <%= created %></div>
				<a href="#" class="deletefog">Delete?</a>
			</section>
		</script>

		<script type="text/template" id="newfog-template">
			<section>
				<h1>New Fog</h1>
				<form id="newfog">
					<input id="name" type="text" placeholder="Fog Name">
					<input id="radius" type="number" placeholder="Radius (meters)">
					<input id="expiry" type="number" placeholder="Expiry (hours)">
					<button id="submit">Create</button> 
				</form>
			</section>
			<section class="sortfogs">
			<div>
				<form id="searchrange">
				Search for fogs within a radius of <span id="searchradius">1</span>m.: 
				<input id="newrange" type="range" min=1 max=1000 value=1 onchange="showValue(this.value)" />
				<button id="updatesearch">Update</button>
			</div>
				<div>
					<a href="#" id="sortrecent">by most recent</a> 
					<a href="#" id="sortclosest">by closest</a>
				</div>
			</section>
		</script>

		<!-- these must appear AFTER the template definitions, or the
		templates won't be defined when backbone is invoked.  --> 
		<script type="text/javascript" src="/js/vendor/jquery-1.7.2.js"></script>
		<script type="text/javascript" src="/js/vendor/modernizr-1.6.min.js"></script>
		<script type="text/javascript" src="/js/vendor/underscore.js"></script>
		<script type="text/javascript" src="/js/vendor/json2.js"></script>
		<script type="text/javascript" src="/js/vendor/backbone.js"></script>
		<script type="text/javascript" src="/js/vendor/socket.io.js"></script>
	</head>
	<body>
		<div id="container">
			<div id="fogform">retreiving nearby streams...</div>
			<div id="foglist"></div>
		</div>
		<script type="text/javascript" src="/js/fogs.js"></script>
	</body>
</html>

